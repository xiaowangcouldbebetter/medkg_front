"use strict";(self["webpackChunkhisclient"]=self["webpackChunkhisclient"]||[]).push([[219],{4219:function(s,a,r){r.r(a),r.d(a,{default:function(){return y}});var o=r(6768),e=r(4232),i=r(5130);const l={class:"admin-login-container"},t={class:"login-box"},n={class:"login-form"},d={class:"form-group"},c={key:0,class:"error-message"},m={class:"form-group"},h={class:"password-input-container"},p=["type"],u={key:0,class:"error-message"},g=["disabled"],w={key:0},k={key:1,class:"el-icon-loading"},L={class:"login-footer"};function v(s,a,r,v,E,f){const b=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",t,[a[7]||(a[7]=(0,o.Lk)("div",{class:"login-header"},[(0,o.Lk)("h2",null,"管理员登录"),(0,o.Lk)("p",null,"医疗知识图谱管理系统")],-1)),(0,o.Lk)("div",n,[(0,o.Lk)("div",d,[a[4]||(a[4]=(0,o.Lk)("label",{for:"email"},"邮箱",-1)),(0,o.bo)((0,o.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":a[0]||(a[0]=s=>E.email=s),placeholder:"请输入邮箱",class:(0,e.C4)({error:E.emailError})},null,2),[[i.Jo,E.email]]),E.emailError?((0,o.uX)(),(0,o.CE)("div",c,(0,e.v_)(E.emailError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",m,[a[5]||(a[5]=(0,o.Lk)("label",{for:"password"},"密码",-1)),(0,o.Lk)("div",h,[(0,o.bo)((0,o.Lk)("input",{type:E.showPassword?"text":"password",id:"password","onUpdate:modelValue":a[1]||(a[1]=s=>E.password=s),placeholder:"请输入密码",class:(0,e.C4)({error:E.passwordError})},null,10,p),[[i.hp,E.password]]),(0,o.Lk)("i",{class:(0,e.C4)(["password-toggle-icon",E.showPassword?"el-icon-view":"el-icon-hide"]),onClick:a[2]||(a[2]=s=>E.showPassword=!E.showPassword)},null,2)]),E.passwordError?((0,o.uX)(),(0,o.CE)("div",u,(0,e.v_)(E.passwordError),1)):(0,o.Q3)("",!0)]),(0,o.Lk)("button",{class:"login-button",onClick:a[3]||(a[3]=(...s)=>f.handleLogin&&f.handleLogin(...s)),disabled:E.isLoading},[E.isLoading?((0,o.uX)(),(0,o.CE)("i",k)):((0,o.uX)(),(0,o.CE)("span",w,"登录"))],8,g),(0,o.Lk)("div",L,[(0,o.bF)(b,{to:"/login"},{default:(0,o.k6)((()=>a[6]||(a[6]=[(0,o.eW)("返回用户登录")]))),_:1})])])])])}r(4114);var E=r(4373),f={name:"AdminLogin",data(){return{email:"",password:"",emailError:"",passwordError:"",showPassword:!1,isLoading:!1}},methods:{validateEmail(){if(this.emailError="",!this.email)return this.emailError="请输入邮箱",!1;const s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!!s.test(this.email)||(this.emailError="请输入有效的邮箱地址",!1)},validatePassword(){return this.passwordError="",!!this.password||(this.passwordError="请输入密码",!1)},validateForm(){const s=this.validateEmail(),a=this.validatePassword();return s&&a},async handleLogin(){if(this.validateForm()){this.isLoading=!0;try{const s=await E.A.post("/api/admin/login/",{email:this.email,password:this.password});s.data.success?(localStorage.setItem("adminToken",s.data.token||"admin-token"),localStorage.setItem("adminInfo",JSON.stringify(s.data.admin)),this.$message.success("登录成功"),this.$router.push("/admin/dashboard")):this.$message.error(s.data.message||"登录失败")}catch(s){console.error("登录失败:",s),s.response&&s.response.data?this.$message.error(s.response.data.message||"登录失败，请检查邮箱和密码"):this.$message.error("登录失败，请稍后再试")}finally{this.isLoading=!1}}}}},b=r(1241);const C=(0,b.A)(f,[["render",v],["__scopeId","data-v-d6489078"]]);var y=C}}]);
//# sourceMappingURL=219.2d860b76.js.map